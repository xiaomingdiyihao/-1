 
<html> 
<head> 
<meta http-equiv="Content-Type" content="text/html; charset=gb2312"> 
<title>图片的左右移动，动画效果的实现</title> 
<script languagel="JavaScript"><!-- 
step = 0; 
obj = new Image(); 
function frist(m,m1,m2) 
{ 
     obj.style.left = x; 
      x += step*m2; 
           if (x>=(m1+m)/2) { 
                             if (m2 == 1) step--; 
                              else step++; 
                              } 
           else { 
                             if (m2 == 1) step++; 
                            else step--; 
                 } 
           if (x >= m1) { 
                                   x = m1; 
                                   m2 = -1; 
                           } 
           if (x <= m) { 
                                   x = m; 
                                   m2 = 1; 
                          } 
     setTimeout('frist('+m+','+m1+','+m2+')', 100); /*设置图片的滚动时间,这一个函数主要是设置step等，以便后面参数的传递*/
} 

function moveLR(objID,movingarea_width,c) /*定义移动函数 有3个参数*/
{ 
               if (navigator.appName=="Netscape") window_width = window.innerWidth; 
              else window_width = document.body.offsetWidth; /*准确获取窗口的width*/
                    obj = document.images[objID]; 
                    image_width = obj.width; 
                     x1 = obj.style.left; /*获取left的值*/
                     x = Number(x1.substring(0,x1.length-2)); 
               if (c == 0) { 
                                if (movingarea_width == 0) { 
                                                 right_margin = window_width - image_width; 
                                                 frist(x,right_margin,1); /*传递参数返回值到frist*/} 
                               else { 
                                                 right_margin = x + movingarea_width - image_width; 
                                           frist(x,right_margin,1);/*传递参数返回值到frist*/ } } 
              else { 
                                  
                                               x = Math.round((window_width-movingarea_width)/2); 
                                              right_margin = Math.round((window_width+movingarea_width)/2)-image_width; } 
                                  frist(x,right_margin,1); /*传递参数返回值到frist*/} 

setTimeout("moveLR('picture',1000,1)",100); //-->
</script> 
</head> 

<body> 

<img src="imgs/paobu14.gif" name="picture" 
style="position: absolute; top: 70px; left: 30px;"  border="0"> 


</body> 
</html> 
